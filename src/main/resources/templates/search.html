<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Search</title>
</head>
<body>
<a href="/">Main</a>
<h2>Search by:</h2>
<div>
    <label for="language">Programming language</label>
    <select id="language" name="language" disabled>
        <option selected>Any</option>
        <option>Java</option>
    </select>
    <input type="checkbox" id="language-toggle">
</div><br/>
<div>
    <label for="substring">Substring</label><br/>
    <textarea id="substring" name="substring" rows="5" cols="40"></textarea>
    <input type="checkbox" id="substring-toggle" checked>
</div>

<div>
    <label for="tag-delim" hidden>Delimiter</label>
    <input type="text" id="tag-delim" name="tagDelim" maxlength="1" minlength="1"
           style="width: 10px" placeholder=";" disabled hidden>
    <label for="tags">Tags (separated by space): </label>
    <input type="text" id="tags" name="tags" disabled>
    <input type="checkbox" id="tags-toggle">
</div>
<div id="code-sample" hidden>
    <label for="code-area">Code</label><br/>
    <textarea id="code-area" name="codeArea" rows="5" cols="40"></textarea>
</div>
<div id="code-samples">

</div>

<button type="button" id="search-button">Search</button>
<script>
    let codeSamples;
    const codeView=document.getElementById("code-samples");
    function clearCodeTemplates(){
        codeView.innerHTML='';
    }
    const processCodeSamples=function () {
        clearCodeTemplates();
        let i=1;
        codeSamples.forEach(sample=>{
            let template = document.querySelector('#code-sample').cloneNode(true);
            let codeArea = template.querySelectorAll('[name="codeArea"]')[0];
            template.setAttribute("id","sample"+i);
            i++;
            console.log(template)
            console.log(codeArea)
            codeArea.innerHTML=sample.codeString;
            template.hidden=null;
            codeView.appendChild(template);
        });
    }

</script>
<script type="text/javascript" th:src="@{/js/search.js}"></script>

</body>
</html>